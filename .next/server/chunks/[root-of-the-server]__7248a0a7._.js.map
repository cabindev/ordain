{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/sdn-api/app/api/ordain/test/route.ts"],"sourcesContent":["// api/ordain/test/route.ts\nimport { google } from 'googleapis';\nimport { NextResponse } from 'next/server';\n\nexport async function GET() {\n  try {\n    // แสดงข้อมูลสภาพแวดล้อม\n    const envInfo = {\n      clientEmail: process.env.GOOGLE_CLIENT_EMAIL,\n      privateKeyExists: !!process.env.GOOGLE_PRIVATE_KEY,\n      spreadsheetId: process.env.GOOGLE_SPREADSHEET_ID,\n    };\n\n    // ตั้งค่า auth\n    const auth = new google.auth.GoogleAuth({\n      credentials: {\n        client_email: process.env.GOOGLE_CLIENT_EMAIL,\n        private_key: process.env.GOOGLE_PRIVATE_KEY?.replace(/\\\\n/g, '\\n'),\n      },\n      scopes: ['https://www.googleapis.com/auth/spreadsheets.readonly'],\n    });\n\n    const sheets = google.sheets({ version: 'v4', auth });\n    const spreadsheetId = process.env.GOOGLE_SPREADSHEET_ID;\n    \n    // ทดลองดึงข้อมูลโดยไม่ระบุชื่อชีต (จะใช้ชีตแรกโดยอัตโนมัติ)\n    const response = await sheets.spreadsheets.values.get({\n      spreadsheetId,\n      range: 'A1:E10', // ไม่ระบุชื่อชีต\n    });\n\n    return NextResponse.json({\n      success: true,\n      envInfo,\n      dataFound: !!response.data.values,\n      rowCount: response.data.values?.length || 0,\n      sampleData: response.data.values?.slice(0, 3) || [] // แสดง 3 แถวแรก\n    });\n  } catch (error) {\n    return NextResponse.json({\n      success: false,\n      error: error.message,\n      errorDetails: error.errors || [],\n      envInfo: {\n        clientEmail: process.env.GOOGLE_CLIENT_EMAIL,\n        privateKeyExists: !!process.env.GOOGLE_PRIVATE_KEY,\n        spreadsheetId: process.env.GOOGLE_SPREADSHEET_ID\n      }\n    });\n  }\n}"],"names":[],"mappings":"AAAA,2BAA2B;;;;AAC3B;AACA;;;AAEO,eAAe;IACpB,IAAI;QACF,wBAAwB;QACxB,MAAM,UAAU;YACd,aAAa,QAAQ,GAAG,CAAC,mBAAmB;YAC5C,kBAAkB,CAAC,CAAC,QAAQ,GAAG,CAAC,kBAAkB;YAClD,eAAe,QAAQ,GAAG,CAAC,qBAAqB;QAClD;QAEA,eAAe;QACf,MAAM,OAAO,IAAI,qJAAA,CAAA,SAAM,CAAC,IAAI,CAAC,UAAU,CAAC;YACtC,aAAa;gBACX,cAAc,QAAQ,GAAG,CAAC,mBAAmB;gBAC7C,aAAa,QAAQ,GAAG,CAAC,kBAAkB,EAAE,QAAQ,QAAQ;YAC/D;YACA,QAAQ;gBAAC;aAAwD;QACnE;QAEA,MAAM,SAAS,qJAAA,CAAA,SAAM,CAAC,MAAM,CAAC;YAAE,SAAS;YAAM;QAAK;QACnD,MAAM,gBAAgB,QAAQ,GAAG,CAAC,qBAAqB;QAEvD,4DAA4D;QAC5D,MAAM,WAAW,MAAM,OAAO,YAAY,CAAC,MAAM,CAAC,GAAG,CAAC;YACpD;YACA,OAAO;QACT;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT;YACA,WAAW,CAAC,CAAC,SAAS,IAAI,CAAC,MAAM;YACjC,UAAU,SAAS,IAAI,CAAC,MAAM,EAAE,UAAU;YAC1C,YAAY,SAAS,IAAI,CAAC,MAAM,EAAE,MAAM,GAAG,MAAM,EAAE,CAAC,gBAAgB;QACtE;IACF,EAAE,OAAO,OAAO;QACd,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,OAAO,MAAM,OAAO;YACpB,cAAc,MAAM,MAAM,IAAI,EAAE;YAChC,SAAS;gBACP,aAAa,QAAQ,GAAG,CAAC,mBAAmB;gBAC5C,kBAAkB,CAAC,CAAC,QAAQ,GAAG,CAAC,kBAAkB;gBAClD,eAAe,QAAQ,GAAG,CAAC,qBAAqB;YAClD;QACF;IACF;AACF","debugId":null}}]
}